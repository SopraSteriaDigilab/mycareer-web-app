function verifyUser(){"false"!==userHasHrDash()&&0!=userHasHrDash()||(window.location="/myobjectives")}function getMyCareerStats(){$.ajax({url:"http://"+getEnvironment()+":8080/hr/getMyCareerStats",cache:!1,method:"GET",xhrFields:{withCredentials:!0},success:function(a){addHrDataToList(a.totalAccounts,a.usersWithObjectives,a.usersWithDevNeeds,a.usersWithNotes,a.usersWithCompetencies,a.usersWithFeedbackRequests,a.usersWithFeedback)},error:function(a,b,c){console.log("error",c),toastr.error("Sorry, there was a problem getting HR data, please try again later.")}})}function getEmployeeStats(){$.ajax({url:"http://"+getEnvironment()+":8080/hr/getEmployeeStats",cache:!1,method:"GET",xhrFields:{withCredentials:!0},success:function(a){$(".hr-dashboard").append(hrEmployeeHeader()),$.each(a,function(a,b){addHrEmployeeToList(b.employeeID,b.fullName,b.company,b.superSector,b.department)})},error:function(a,b,c){console.log("error",c),toastr.error("Sorry, there was a problem getting HR Employee data, please try again later.")}})}function getHRObjectivesStats(){$.ajax({url:"http://"+getEnvironment()+":8080/hr/getObjectiveStats",cache:!1,method:"GET",xhrFields:{withCredentials:!0},success:function(a){$(".hr-dashboard").append(hrObjectivesHeader()),$.each(a,function(a,b){addHrObjectivesToList(b.employeeID,b.fullName,b.totalObjectives,b.proposed,b.inProgress,b.complete,b.company,b.superSector,b.department)})},error:function(a,b,c){console.log("error",c),toastr.error("Sorry, there was a problem getting HR Objective data, please try again later.")}})}function getHRDevNeedsStats(){$.ajax({url:"http://"+getEnvironment()+":8080/hr/getDevelopmentNeedStats",cache:!1,method:"GET",xhrFields:{withCredentials:!0},success:function(a){$(".hr-dashboard").append(hrDevNeedsHeader()),$.each(a,function(a,b){addHrDevelopmentNeedsToList(b.employeeID,b.fullName,b.totalDevelopmentNeeds,b.proposed,b.inProgress,b.complete,b.company,b.superSector,b.department)})},error:function(a,b,c){console.log("error",c),toastr.error("Sorry, there was a problem getting HR Development Needs data, please try again later.")}})}function getHRFeedbackStats(){$.ajax({url:"http://"+getEnvironment()+":8080/hr/getFeedbackStats",cache:!1,method:"GET",xhrFields:{withCredentials:!0},success:function(a){$(".hr-dashboard").append(hrFeedbackHeader()),$.each(a,function(a,b){addHrFeedbackToList(b.employeeID,b.fullName,b.totalFeedback,b.company,b.superSector,b.department)})},error:function(a,b,c){console.log("error",c),toastr.error("Sorry, there was a problem getting HR Feedback data, please try again later.")}})}function addHrDataToList(a,b,c,d,e,f,g){$(".hr-dashboard").append(hrOverviewList(a,b,c,d,e,f,g))}function showHrOverviewList(){$("#hrOverviewTable").hasClass("hidden")&&$("#hrOverviewTable").removeClass("hidden"),$("#hrEmployeeTable_wrapper").not("hidden")&&$("#hrEmployeeTable_wrapper").addClass("hidden"),$("#hrObjectivesTable_wrapper").not("hidden")&&$("#hrObjectivesTable_wrapper").addClass("hidden"),$("#hrDevNeedsTable_wrapper").not("hidden")&&$("#hrDevNeedsTable_wrapper").addClass("hidden"),$("#hrFeedbackTable_wrapper").not("hidden")&&$("#hrFeedbackTable_wrapper").addClass("hidden")}function hrOverviewList(a,b,c,d,e,f,g){var h="     <table class='table table-striped hidden' id='hrOverviewTable'>         <thead>             <tr>                <th>Overview of MyCareer</th>     \t       <th>Number of Users</th>             </tr>         </thead>         <tbody>             <tr>                 <td>Total Accounts Accessed</td>                 <td>"+a+"</td>             </tr>             <tr>                 <td>Users with at least one objective</td>                 <td>"+b+"</td>             </tr>             <tr>                 <td>Users with at least one development need</td>                 <td>"+c+"</td>             </tr>             <tr>                 <td>Users with at least one note</td>                 <td>"+d+"</td>             </tr>             <tr>                 <td>Users that have clicked a competency</td>                 <td>"+e+"</td>             </tr>             <tr>                 <td>Users that have submitted a feedback request</td>                 <td>"+f+"</td>             </tr>             <tr>                 <td>Users that have received feedback</td>                 <td>"+g+"</td>             </tr>         </tbody>     </table>     ";return h}function addHrEmployeeToList(a,b,c,d,e){$("#employeeDetails").append(hrEmployeeList(a,b,c,d,e))}function showHrEmployeeList(){$("#hrEmployeeTable").hasClass("hidden")&&$("#hrEmployeeTable").removeClass("hidden"),$("#hrEmployeeTable_wrapper").hasClass("hidden")&&$("#hrEmployeeTable_wrapper").removeClass("hidden"),$("#hrOverviewTable").not("hidden")&&$("#hrOverviewTable").addClass("hidden"),$("#hrObjectivesTable_wrapper").not("hidden")&&$("#hrObjectivesTable_wrapper").addClass("hidden"),$("#hrDevNeedsTable_wrapper").not("hidden")&&$("#hrDevNeedsTable_wrapper").addClass("hidden"),$("#hrFeedbackTable_wrapper").not("hidden")&&$("#hrFeedbackTable_wrapper").addClass("hidden")}function hrEmployeeHeader(){var a="         <table class='table table-striped hidden' id='hrEmployeeTable'>             <thead>                 <tr>                    <th>Employee ID</th>                    <th>Employee Name</th>                    <th>Company</th>                    <th>Super Sector</th>                    <th>Department</th>                 </tr>             </thead>             <tbody id='employeeDetails'>             </tbody>         </table>     ";return a}function hrEmployeeList(a,b,c,d,e){var f="             <tr>                 <td>"+a+"</td>                 <td>"+b+"</td>                 <td>"+c+"</td>                 <td>"+d+"</td>                 <td>"+e+"</td>             </tr>     ";return f}function addHrObjectivesToList(a,b,c,d,e,f,g,h,i){$("#objectiveDetails").append(hrObjectivesList(a,b,c,d,e,f,g,h,i))}function showHrObjectivesList(){$("#hrObjectivesTable").hasClass("hidden")&&$("#hrObjectivesTable").removeClass("hidden"),$("#hrObjectivesTable_wrapper").hasClass("hidden")&&$("#hrObjectivesTable_wrapper").removeClass("hidden"),$("#hrOverviewTable").not("hidden")&&$("#hrOverviewTable").addClass("hidden"),$("#hrEmployeeTable_wrapper").not("hidden")&&$("#hrEmployeeTable_wrapper").addClass("hidden"),$("#hrDevNeedsTable_wrapper").not("hidden")&&$("#hrDevNeedsTable_wrapper").addClass("hidden"),$("#hrFeedbackTable_wrapper").not("hidden")&&$("#hrFeedbackTable_wrapper").addClass("hidden")}function hrObjectivesHeader(){var a="         <table class='table table-striped hidden' id='hrObjectivesTable'>             <thead>                 <tr>                    <th>Employee ID</th>                    <th>Employee Name</th>                    <th>Total no of Objectives</th>                    <th>Objectives Proposed</th>                    <th>Objectives In-Progress</th>                    <th>Objectives Complete</th>                    <th>Company</th>                    <th>Super Sector</th>                    <th>Department</th>                 </tr>             </thead>             <tbody id='objectiveDetails'>             </tbody>         </table>     ";return a}function hrObjectivesList(a,b,c,d,e,f,g,h,i){var j="             <tr>                 <td>"+a+"</td>                 <td>"+b+"</td>                 <td>"+c+"</td>                 <td>"+d+"</td>                 <td>"+e+"</td>                 <td>"+f+"</td>                 <td>"+g+"</td>                 <td>"+h+"</td>                 <td>"+i+"</td>             </tr>     ";return j}function addHrDevelopmentNeedsToList(a,b,c,d,e,f,g,h,i){$("#devNeedsDetails").append(hrDevelopmentNeedsList(a,b,c,d,e,f,g,h,i))}function showHrDevelopmentNeedsList(){$("#hrDevNeedsTable").hasClass("hidden")&&$("#hrDevNeedsTable").removeClass("hidden"),$("#hrDevNeedsTable_wrapper").hasClass("hidden")&&$("#hrDevNeedsTable_wrapper").removeClass("hidden"),$("#hrOverviewTable").not("hidden")&&$("#hrOverviewTable").addClass("hidden"),$("#hrEmployeeTable_wrapper").not("hidden")&&$("#hrEmployeeTable_wrapper").addClass("hidden"),$("#hrObjectivesTable_wrapper").not("hidden")&&$("#hrObjectivesTable_wrapper").addClass("hidden"),$("#hrFeedbackTable_wrapper").not("hidden")&&$("#hrFeedbackTable_wrapper").addClass("hidden")}function hrDevNeedsHeader(){var a="         <table class='table table-striped hidden' id='hrDevNeedsTable'>             <thead>                 <tr>                    <th>Employee ID</th>                    <th>Employee Name</th>                    <th>Total no of Development Needs</th>                    <th>Development Needs Proposed</th>                    <th>Development Needs In-Progress</th>                    <th>Development Needs Complete</th>                    <th>Company</th>                    <th>Super Sector</th>                    <th>Department</th>                 </tr>             </thead>             <tbody id='devNeedsDetails'>             </tbody>         </table>     ";return a}function hrDevelopmentNeedsList(a,b,c,d,e,f,g,h,i){var j="             <tr>                 <td>"+a+"</td>                 <td>"+b+"</td>                 <td>"+c+"</td>                 <td>"+d+"</td>                 <td>"+e+"</td>                 <td>"+f+"</td>                 <td>"+g+"</td>                 <td>"+h+"</td>                 <td>"+i+"</td>             </tr>     ";return j}function addHrFeedbackToList(a,b,c,d,e,f){$("#feedbackDetails").append(hrFeedbackList(a,b,c,d,e,f))}function showHrFeedbackList(){$("#hrFeedbackTable").hasClass("hidden")&&$("#hrFeedbackTable").removeClass("hidden"),$("#hrFeedbackTable_wrapper").hasClass("hidden")&&$("#hrFeedbackTable_wrapper").removeClass("hidden"),$("#hrOverviewTable").not("hidden")&&$("#hrOverviewTable").addClass("hidden"),$("#hrEmployeeTable_wrapper").not("hidden")&&$("#hrEmployeeTable_wrapper").addClass("hidden"),$("#hrObjectivesTable_wrapper").not("hidden")&&$("#hrObjectivesTable_wrapper").addClass("hidden"),$("#hrDevNeedsTable_wrapper").not("hidden")&&$("#hrDevNeedsTable_wrapper").addClass("hidden")}function hrFeedbackHeader(){var a="         <table class='table table-striped hidden' id='hrFeedbackTable'>             <thead>                 <tr>                    <th>Employee ID</th>                    <th>Employee Name</th>                    <th>Total no of Feedback recieved</th>                    <th>Company</th>                    <th>Super Sector</th>                    <th>Department</th>                 </tr>             </thead>             <tbody id='feedbackDetails'>             </tbody>         </table>     ";return a}function hrFeedbackList(a,b,c,d,e,f){var g="             <tr>                 <td>"+a+"</td>                 <td>"+b+"</td>                 <td>"+c+"</td>                 <td>"+d+"</td>                 <td>"+e+"</td>                 <td>"+f+"</td>             </tr>     ";return g}$(function(){$(".selectpicker").selectpicker(),verifyUser(),getMyCareerStats(),getEmployeeStats(),getHRObjectivesStats(),getHRDevNeedsStats(),getHRFeedbackStats(),$(".selectpicker").on("change",function(){"Overview"===$(this).val()?showHrOverviewList():"Employees"===$(this).val()?$("#hrEmployeeTable").dataTable(showHrEmployeeList()):"Objectives"===$(this).val()?$("#hrObjectivesTable").dataTable(showHrObjectivesList()):"Development Needs"===$(this).val()?$("#hrDevNeedsTable").dataTable(showHrDevelopmentNeedsList()):"Feedback"===$(this).val()&&$("#hrFeedbackTable").dataTable(showHrFeedbackList())})});