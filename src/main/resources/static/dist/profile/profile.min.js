function populateProfile(a,e){$("#userProfileName").append("<h4 class='profile-centre' >"+e+" "),$("#userProfilePicture").append(getProfilePicture(a,48)).append("<span class='caret'></span>"),highlightProfileDropdown("#userProfilePicture, #userProfileName")}function highlightProfileDropdown(a){$("#profile-container").hover(function(){$(a).css("color","#cacaca")},function(){$(a).css("color","#FFF")})}function openPrintModal(){$("#print-modal").modal({backdrop:"static",keyboard:!1,show:!0})}function openEmailModal(){$("#email-modal").modal({backdrop:"static",keyboard:!1,show:!0})}function initEmailModal(){getEmails(),!1===hasExtraEmailAddress?($addEmailButton.show(),$editDeleteEmailButtons.hide(),$saveCancelEmailButtons.hide()):($addEmailButton.hide(),$editDeleteEmailButtons.show(),$saveCancelEmailButtons.hide()),$("#edit-email-button").click(function(){editExtraEmail()}),$("#delete-email-button").click(function(){deleteExtraEmail()}),$("#save-email-button").click(function(){saveExtraEmail()}),$("#cancel-email-button").click(function(){closeExtraEmail()}),$("#add-email-button").click(function(){addExtraEmail()})}function getEmails(){console.log("getting emails");const a={sopraSteriaEmailAddresses:["alexandre.brard@soprasteria.com","alexandre.brard2@soprasteria.com"],preferedEmailAddress:""};""!==a.preferedEmailAddress&&(hasExtraEmailAddress=!0),setEmailAddresses(a.sopraSteriaEmailAddresses,a.preferedEmailAddress)}function setEmailAddresses(a,e){var t='<ul><li class="ui-menu-item" role="menuitem">'+a.join("</li><li>")+"</li></ul>",i=""==e?NO_EXTRA_EMAIL_ADDRESS:e;$addEmailInput.val(e),setExtraEmailLabel(i),$sopraSteriaEmails.html(t)}function setExtraEmailLabel(a){a!==NO_EXTRA_EMAIL_ADDRESS?$addEmailText.text(a):$addEmailText.text(NO_EXTRA_EMAIL_ADDRESS)}function editExtraEmail(){currentOperation="edit",$addEmailText.text()!==NO_EXTRA_EMAIL_ADDRESS&&$addEmailInput.val($addEmailText.text()),$editDeleteEmailButtons.hide(),$addEmailText.hide(),$saveCancelEmailButtons.show(),$addEmailInput.show()}function deleteExtraEmail(){$addEmailInput.val(""),$editDeleteEmailButtons.hide(),$addEmailButton.show(),$addEmailText.text(NO_EXTRA_EMAIL_ADDRESS)}function addExtraEmail(){currentOperation="add",$addEmailText.hide(),$addEmailButton.hide(),$saveCancelEmailButtons.show(),$addEmailInput.show()}function closeExtraEmail(){$addEmailInput.val(""),"edit"===currentOperation&&($saveCancelEmailButtons.hide(),$editDeleteEmailButtons.show(),$addEmailInput.hide(),$addEmailText.show()),"add"===currentOperation&&($saveCancelEmailButtons.hide(),$addEmailButton.show(),$addEmailInput.hide(),$addEmailText.show())}function saveExtraEmail(){if(""===$addEmailInput.val())$saveCancelEmailButtons.hide(),$addEmailInput.hide(),$addEmailText.text(NO_EXTRA_EMAIL_ADDRESS),$addEmailText.show(),$addEmailButton.show();else{if(!isValidEmailAddress($addEmailInput.val())&&""!==$addEmailInput.val())return void toastr.error("Email format is incorrect");console.log("saving my extra email address: "+$addEmailInput.val()),setExtraEmailLabel($addEmailInput.val()),$saveCancelEmailButtons.hide(),$addEmailInput.hide(),$editDeleteEmailButtons.show(),$addEmailText.show()}}$(function(){populateProfile(getUserName(),getADfullName()),initEmailModal(),$("#printOption").click(function(a){a.stopPropagation()}),$(".pdf").click(function(a){var e=a.target.id;"objPDF"===e?(getObjectivesData(),$("#print-modal-title-type").text("Objectives")):"feedPDF"===e?(getFeedbackData(),$("#print-modal-title-type").text("Feedback")):"devPDF"===e?(getDevelopmentNeedsData(),$("#print-modal-title-type").text("Development Needs")):"notesPDF"===e&&(getNotesData(),$("#print-modal-title-type").text("Notes")),$("#pdf-modal-body").append('<div class="'+e+'"></div>'),openPrintModal()}),$("#close, #close-print-cross").on("click",function(a){$("#pdf-modal-body").empty(),$(".printButton").remove()}),$("#email").click(function(a){openEmailModal()}),$("#close-email , #close-email-x").on("click",function(a){$("#email-modal").modal("hide")})});const NO_EXTRA_EMAIL_ADDRESS="No extra email address has been written.";var $sopraSteriaEmails=$(".sopra-steria-emails"),$addEmailButton=$(".add-email-button"),$editDeleteEmailButtons=$(".edit-delete-email-buttons"),$saveCancelEmailButtons=$(".save-cancel-email-buttons"),$addEmailText=$("#add-email-text"),$addEmailInput=$("#add-email-input"),hasExtraEmailAddress=!1,currentOperation=null;